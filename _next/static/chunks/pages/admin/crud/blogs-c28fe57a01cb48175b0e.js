_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{"0lIN":function(e,n,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/blogs",function(){return c("BzMX")}])},BzMX:function(e,n,c){"use strict";c.r(n);var t=c("nKUr"),r=c("5Yp1"),s=c("vC6e"),i=c("YFqc"),a=c.n(i),l=c("q1tI"),o=c.n(l),j=(c("nOHt"),c("iuBY")),d=c("zycw"),b=(c("qsEy"),c("wd/R")),u=c.n(b),O=function(){var e=Object(l.useState)([]),n=e[0],c=e[1],r=Object(l.useState)(""),s=r[0],i=r[1],b=Object(j.b)("token");Object(l.useEffect)((function(){O()}),[]);var O=function(){Object(d.b)().then((function(e){e.error?console.log(e.error):c(e)}))},h=function(e){window.confirm("Are you sure you want to delete the blog?")&&function(e){Object(d.f)(e,b).then((function(e){e.error?console.log(e.error):(i(e.message),O())}))}(e)},m=function(e){return Object(j.c)()&&0===Object(j.c)().role?Object(t.jsx)(a.a,{href:"/user/crud/".concat(e.slug),children:Object(t.jsx)("a",{className:"btn btn-sm btn-warning ml-2",children:"Update"})}):Object(j.c)()&&1===Object(j.c)().role?Object(t.jsx)(a.a,{href:"/admin/crud/".concat(e.slug),children:Object(t.jsx)("a",{className:"btn btn-sm btn-warning ml-2",children:"Update"})}):void 0};return Object(t.jsx)(o.a.Fragment,{children:Object(t.jsx)("div",{className:"container",children:Object(t.jsx)("div",{className:"row",children:Object(t.jsxs)("div",{className:"col-md-12",children:[s&&Object(t.jsx)("div",{className:"alert alert-warning",children:s}),n.reverse().map((function(e,n){return Object(t.jsxs)("div",{children:[Object(t.jsx)("h3",{children:e.title}),Object(t.jsxs)("p",{className:"mark",children:["Written by ",e.postedBy.name," | Published on ",u()(e.updatedAt).fromNow()," "]}),Object(t.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return h(e.slug)},children:"Delete"}),m(e)]},n)}))]})})})})};n.default=function(){return Object(t.jsx)(r.a,{children:Object(t.jsx)(s.a,{children:Object(t.jsx)("div",{className:"container-fluid",children:Object(t.jsxs)("div",{className:"row",children:[Object(t.jsx)("div",{className:"col-md-12 pt-5 pb-5",children:Object(t.jsx)("h2",{children:"Manage Blogs"})}),Object(t.jsx)("div",{className:"col-md-12",children:Object(t.jsx)(O,{})})]})})})})}},vC6e:function(e,n,c){"use strict";var t=c("nKUr"),r=c("q1tI"),s=c.n(r),i=c("nOHt"),a=c.n(i),l=c("iuBY");n.a=function(e){var n=e.children;return Object(r.useEffect)((function(){Object(l.c)()?1!==Object(l.c)().role&&a.a.push("/user"):a.a.push("/signin")}),[]),Object(t.jsx)(s.a.Fragment,{children:n})}}},[["0lIN",1,0,5,7,2,3,4,6]]]);